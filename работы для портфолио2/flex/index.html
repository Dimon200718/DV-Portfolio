<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
</head>
<body>
  <div class="box">
      <header>
        <p class="header__headline">UKR<span>R</span>AIN</p>
        <p class="header__text">УКРАЇНСЬКИЙ ДОЩ</p>
      </header>
      <nav>
        <div class="nav__item n1">ГОЛОВНА</div>
        <div class="nav__item">НОВИНИ</div>
        <div class="nav__item">БЛОГИ</div>
        <div class="nav__item">Т0П-10</div>
        <div class="nav__item">ГЕНДЕР</div>
        <div class="nav__item">ДІАСПОРА</div>
        <div class="nav__item">СОЦІУМ</div>
        <div class="nav__item">РОЗВАГИ</div>
        <div class="nav__item">ІНТЕРВ'Ю</div>
      </nav>
      <section class="hot">
        <div class="hot__text">
          <div class="text__box">
            <div class="time">13:58</div>
            <div class="ivent">У ВІДНІ ВИПУСТИЛИ МАРКУ ПРО ДОВГИЙ ВИХІД ВЕЛИКОБРИТАНІЇ З ЄС</div>
          </div>
          <div class="text__box">
            <div class="time">10:19</div>
            <div class="ivent t1">Киев завладел частью моего сердца". Джо Байден посетил Киев в канун годовщины российского вторжения</div>
          </div>
          <div class="text__box">
            <div class="time">09:43</div>
            <div class="ivent">Зеленский: Мы реализуем мечту украинских героев</div>
          </div>
          <div class="text__box">
            <div class="time">15.27</div>
            <div class="ivent">Китай ответил на предостережение США об оказании летальной военной помощи РФ</div>
          </div>
          <div class="text__box">
            <div class="time">10:42</div>
            <div class="ivent">В Украине переизбыток электроэнергии: в каких случаях возможны отключения</div>
          </div>
        </div>
        <div class="hot__img">
          <div class="banner" data-height="400" data-width="100%" data-slide-speed="900" data-autoslide="5000">
            <div class="slider s1">
              <h1 class="s1__headline">Далекий від ідеалу: що не так із манікюром Меган Маркл</h1>
            </div>
            <div class="slider s1">
              <h1 class="s1__headline">Зеленський пояснив, чому так важливо тримати Бахмут</h1>
            </div>
            <div class="slider s2">
              <h1 class="s2__headline">
                Європарламент готується визнати Росію державою-спонсоркою тероризму: що це дасть Україні
              </h1>
            </div>
        
            <div class="previous" data-previous-cursor="left.png"></div>
            <div class="next" data-next-cursor="right.png"></div>
        
            <div class="links">
                <a href="1"></a>
                <a href="2"></a>
                <a href="3"></a>
            </div>
          </div>
        </div>
      </section>
      <section class="news">
        <h1 class="read">ЧИТАЙТЕ</h1>
        <div class="news__item">
          <img src="img/nb1.jpeg" alt="try again">
          <h3 class="news__item_headline">Зеленский призвал Пекин поддержать украинскую формулу мира и оказать влияние на РФ в вопросах ядерной безопасности.</h3>
          <p class="news__item_text">
            Если бы Китай вступил в союз с Россией и поддержал бы агрессию Путина против Украины, началась бы мировая война.
          </p>
        </div>
        <div class="news__item">
          <img src="img/nb2.jpeg" alt="try again">
          <h3 class="news__item_headline">"Не имеете права читать лекции": Китай отреагировал на призыв США не снабжать оружием РФ</h3>
          <p class="news__item_text">
            Представитель китайского МИД заявил, что именно США, а не они постоянно снабжают оружие, образуя постоянный поток вооружений
          </p>
        </div>
        <div class="news__item">
          <img src="img/nb3.jpeg" alt="try again">
          <h3 class="news__item_headline">Бундеслига онлайн: результаты матчей 21-го тура Чемпионата Германии по футболу</h3>
          <p class="news__item_text">
            Центральным поединком тура стала дуэль "Боруссии" Менхенгладбах и "Баварии".
          </p>
        </div>
        <div class="news__item">
          <img src="img/nb4.jpeg" alt="try again">
          <h3 class="news__item_headline">Растущая Луна 21 февраля - 6 марта 2023: что нас ждет в это время
            Растущая Луна 21 февраля - 6 марта 2023: что нас ждет в это время</h3>
          <p class="news__item_text">
            Период растущей Луны, который начался с новолуния 20 февраля в знаке Рыбы и закончится полнолунием 7 марта в Деве, станет очень ярким и запоминающимся. 
          </p>
        </div>
        <div class="news__item">
          <img src="img/nb5.jpeg" alt="try again">
          <h3 class="news__item_headline">Дзидзьо показал маму-красавицу и трогательно поздравил ее с днем рождения</h3>
          <p class="news__item_text">
            К поздравлениям присоединились звездные коллеги артиста и его бывшая жена.
          </p>
        </div>
        <div class="news__item">
          <img src="img/ти6.jpeg" alt="try again">
          <h3 class="news__item_headline">Лилия Подкопаева побывала в деоккупированном селе под Киевом и показала фото на фоне сгоревшего танка</h3>
          <p class="news__item_text">
            Гимнастка своими глазами увидела разрушенные оккупантами города и села.
          </p>
        </div>
        <div class="news__item">
          <img src="img/nb7.jpeg" alt="try again">
          <h3 class="news__item_headline">"ФОТО С БАЙДЕНОМ ДОЛЖНО БЫТЬ ЗДЕСЬ": ПЕС ПАТРОН ПРОКОММЕНТИРОВАЛ ВИЗИТ ПРЕЗИДЕНТА США В КИЕВ</h3>
          <p class="news__item_text">
            Известная собака-сапер призналась, что хотела бы сфотографироваться с Джо Байденом.
          </p>
        </div>
        <div class="news__item">
          <img src="img/nb8.jpeg" alt="try again">
          <h3 class="news__item_headline">Зеркальная дата 23.02.2023: прогноз астролога</h3>
          <p class="news__item_text">
            23.02.2023 – зеркальная дата, которая волнует многих людей. В этот день открывается  настоящий портал возможностей, важно не пропустить ни секунды драгоценного времени и успеть сделать как можно больше..
          </p>
        </div>
      </section>
  </div>



  <script>
    var bannerEl = document.querySelector(".banner");
var sliderEl = document.querySelectorAll(".slider");
var previousEl = document.querySelector(".previous");
var nextEl = document.querySelector(".next");
var linksEl = document.querySelector(".links");
var imgLinks = linksEl.getElementsByTagName("a");

// Data attributes
var height = bannerEl.getAttribute("data-height");
var width = bannerEl.getAttribute("data-width");
var slideSpeed = bannerEl.getAttribute("data-slide-speed");
var autoSlide = bannerEl.getAttribute("data-autoslide");
var nextCursor = nextEl.getAttribute("data-next-cursor");
var previousCursor = previousEl.getAttribute("data-previous-cursor");

// Slider variables
var totalImgs = imgLinks.length;
var currentImgNumber = 1;
var nextImgNumber = currentImgNumber + 1;
var previousImgNumber = totalImgs;
var randomImgNumber = 3;
var currentImg = bannerEl.querySelector('div:nth-of-type(' + currentImgNumber + ')');
var nextImg = bannerEl.querySelector('div:nth-of-type(' + nextImgNumber + ')');
var previousImg = bannerEl.querySelector('div:nth-of-type(' + previousImgNumber + ')');
var randomImg = bannerEl.querySelector('div:nth-of-type(' + randomImgNumber + ')');

// Set CSS to element or elements
function setCSS(styles, elements) {
  if (elements.length > 1) {
    for (var i = 0; i < elements.length; i++) {
      Object.assign(elements[i].style, styles);
    }
  } else {
    Object.assign(elements.style, styles);
  }
}

// Set CSS before elements appear
document.body.style.margin = '0';

setCSS({
  width: width,
  height: height + 'px',
  margin: '0 auto',
  position: 'relative'
}, bannerEl);

setCSS({
  position: 'absolute',
  width: '50%',
  height: height + 'px',
  top: '0'
}, [previousEl, nextEl]);

setCSS({
  cursor: (totalImgs <= 1) ? 'default' : previousCursor ? 'url(' + previousCursor + '), auto' : 'w-resize',
  width: '50%',
  left: '0'
}, previousEl);

setCSS({
  cursor: (totalImgs <= 1) ? 'default' : nextCursor ? 'url(' + nextCursor + '), auto' : 'e-resize',
  right: '0'
}, nextEl);

setCSS({
  'text-align': 'center',
  position: 'relative',
  top: '350px',
  left: '0', 'right': '0',
  margin: 'auto',
  cursor: 'default',
  width: imgLinks.length * 30 + 'px'
}, linksEl);

// For multiple elements of same class
// Iterate over and set individual element's CSS
for (var i = 0; i < sliderEl.length; i++) {
  setCSS({
    width: width, 'height':
    height + 'px', 'margin': '0 auto'
  }, sliderEl[i]);

  setCSS({
    position: 'absolute',
    opacity: '0', 'object-fit': 'cover'
  }, sliderEl[i]);
}

for (var i = 0; i < imgLinks.length; i++) {
  setCSS({
    color: '#000',
    display: 'inline-block',
    'text-decoration': 'none',
    background: '#FFF',
    'border-radius': '50%',
    height: '15px',
    width: '15px',
    margin: '10px 5px',
    transition: 'all 0.5s'
  }, imgLinks[i]);
}

(function() {
  function fadeTo(element, speed, opacity) {
    setCSS({
      transition: 'opacity ' + speed + 'ms',
      opacity: opacity
    }, element);
  }

  function loadImg() {
    fadeTo(currentImg, slideSpeed, 1);
  }

  function nextImgFade() {
    fadeTo(currentImg, slideSpeed, 0);
    fadeTo(nextImg, slideSpeed, 1);
  }

  function previousImgFade() {
    fadeTo(currentImg, slideSpeed, 0);
    fadeTo(previousImg, slideSpeed, 1);
  }

  function randomImgFade() {
    fadeTo(currentImg, slideSpeed, 0);
    fadeTo(randomImg, slideSpeed, 1);
  }

  function boldText() {
    for (var i = 0; i < imgLinks.length; i++) {
      var currentHref = imgLinks[i].getAttribute('href');
      var opacity = currentImgNumber == currentHref ? 0.8 : 0.4;
      setCSS({opacity: opacity}, imgLinks[i]);
    }
  }

  function imgLoop() {
    nextImgNumber = currentImgNumber + 1;
    previousImgNumber = currentImgNumber - 1;

    if (currentImgNumber == totalImgs) {
      nextImgNumber = 1;
    }

    if (currentImgNumber == 1) {
      previousImgNumber = totalImgs;
    }
  }

  function refreshImgs() {
    currentImg = bannerEl.querySelector('div:nth-of-type(' + currentImgNumber + ')');
    nextImg = bannerEl.querySelector('div:nth-of-type(' + nextImgNumber + ')');
    previousImg = bannerEl.querySelector('div:nth-of-type(' + previousImgNumber + ')');
    randomImg = bannerEl.querySelector('div:nth-of-type(' + randomImgNumber + ')');
  }

  function callFunctions() {
    boldText();
    imgLoop();
    refreshImgs();
  }

  function restartInterval() {
    clearInterval(interval);
    interval = setInterval(loopImages, autoSlide);
  }

  function loopImages() {
    var event = document.createEvent('HTMLEvents');
    event.initEvent('click', 1, 0);
    nextEl.dispatchEvent(event);
  }

  // Iterate over all links
  // On link click, restart interval, and fade in that image
  for (var i = 0; i < imgLinks.length; i++) {
    imgLinks[i].onclick = function() {
      restartInterval();
      randomImgNumber = parseInt(this.getAttribute('href'));
      randomImg = bannerEl.querySelector('div:nth-of-type(' + randomImgNumber + ')');
      randomImgFade();
      currentImgNumber = randomImgNumber;
      callFunctions();
      return false;
    };
  }

  // Iterate over previous and next elements
  // On click, check direction, fade next image in and assign current image number
  var previousAndNext = [previousEl, nextEl];
  for (var t = 0; t < previousAndNext.length; t++) {
    if (totalImgs > 1) {
      previousAndNext[t].onclick = function(e) {
        var direction = e.target.getAttribute('class');
        if (direction == "next") {
          nextImgFade();
          currentImgNumber = nextImgNumber;
        } else {
          previousImgFade();
          currentImgNumber = previousImgNumber;
        }
        restartInterval();
        callFunctions();
      };
    }
  }

  boldText();
  loadImg();

  // Only set interval if there is more than 1 image
  if (totalImgs > 1) {
    var interval = setInterval(loopImages, autoSlide);
  }
})();
  </script>
</body>
</html>